# MongoDB 3.6-4.0 Mongos Configuration
# Generated by mup

net:
  port: {{ .Net.Port }}
  bindIp: {{ .Net.BindIP }}
{{- if .Net.TLS }}
  # MongoDB 3.6-4.0 uses 'ssl' naming
  ssl:
    mode: {{ .Net.TLS.Mode }}
{{- if .Net.TLS.CertificateKeyFile }}
    PEMKeyFile: {{ .Net.TLS.CertificateKeyFile }}
{{- end }}
{{- if .Net.TLS.CAFile }}
    CAFile: {{ .Net.TLS.CAFile }}
{{- end }}
{{- end }}

systemLog:
  destination: {{ .SystemLog.Destination }}
{{- if .SystemLog.Path }}
  path: {{ .SystemLog.Path }}
{{- end }}
  logAppend: {{ .SystemLog.LogAppend }}

{{- if .ProcessManagement }}
processManagement:
{{- if .ProcessManagement.Fork }}
  fork: {{ .ProcessManagement.Fork }}
{{- end }}
{{- if .ProcessManagement.PIDFilePath }}
  pidFilePath: {{ .ProcessManagement.PIDFilePath }}
{{- end }}
{{- end }}

sharding:
  configDB: {{ .Sharding.ConfigDB }}

{{- if .Security }}
security:
  authorization: {{ .Security.Authorization }}
{{- if .Security.KeyFile }}
  keyFile: {{ .Security.KeyFile }}
{{- end }}
{{- end }}
